var angularUpload=angular.module("angularUpload",["ngFileUpload"]);angularUpload.service("$ngUpload",["Upload","$configs","$filter","$interval","$q",function(e,r,o,a,l){this.single=function(o,i){var u=l.defer();return i.uploadProgress=0,!(o.size>r.uploadFileSize)&&(e.upload({url:r.upload,file:o}).progress(function(){var e=a(function(){100===i.uploadProgress?a.cancel(e):i.uploadProgress++,i.showUploadedImage=100===i.uploadProgress},50)}).success(function(e){u.resolve(e)}).error(function(e){u.resolve(e)}),u.promise)},this.multiple=function(o,a){var i=[],u=l.defer(),n=100/o.length;return a.uploadProgress=0,angular.forEach(o,function(o){if(o.size>r.uploadFileSize){var l={file:o.name,error:"size > "+r.uploadFileSize+" Byte",ready:!1};i.push(l)}else e.upload({url:r.upload,file:o}).success(function(e){var o={imagePreview:r.uploadTemp+e.FileName+e.Extension,image:r.uploadMedia+e.FileName,ready:!0,error:null};i.push(o),a.uploadProgress+=n}).error(function(e){var r={file:o.name,error:e,ready:!1};i.push(r)})}),u.resolve(i),u.promise}}]);
