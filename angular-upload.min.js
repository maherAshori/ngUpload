var angularUpload=angular.module("angularUpload",["ngFileUpload"]);angularUpload.service("$ngUpload",["Upload","$configs","$filter","$interval","$q",function(e,r,l,o,a){this.single=function(l,i){var s=a.defer();return i.uploadProgress=0,!(l.size>r.uploadFileSize)&&(e.upload({url:r.upload,file:l}).progress(function(){var e=o(function(){100===i.uploadProgress?o.cancel(e):i.uploadProgress++,i.showUploadedImage=100===i.uploadProgress},50)}).success(function(e){s.resolve(e)}).error(function(e){s.resolve(e)}),s.promise)},this.multiple=function(l,o){o.files=[];var i=a.defer(),s=100/l.length;return o.uploadProgress=0,angular.forEach(l,function(l){if(l.size>r.uploadFileSize){var a={file:l.name,error:"size > "+r.uploadFileSize+" Byte",ready:!1};o.files.push(a)}else e.upload({url:r.upload,file:l}).success(function(e){var l={imagePreview:r.uploadTemp+e.FileName+e.Extension,image:r.uploadMedia+e.FileName,ready:!0,error:null};o.files.push(l),o.uploadProgress+=s,i.resolve(e)}).error(function(e){var r={file:l.name,error:e,ready:!1};o.files.push(r)})}),i.promise}}]);
